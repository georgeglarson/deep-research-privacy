version: '3.8'

services:
  deep-research:
    container_name: deep-research
    build: .
    environment:
      - NODE_ENV=test
      - CI=true
      - TERM=${TERM:-xterm}  # Pass through terminal type
      - VENICE_API_KEY=${VENICE_API_KEY}
      - BRAVE_API_KEY=${BRAVE_API_KEY}
    stdin_open: true  # docker run -i
    tty: true        # docker run -t
    volumes:
      - ./research:/app/research  # Mount research directory
      - ./tests:/app/tests  # Mount tests directory
